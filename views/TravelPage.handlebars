<div class="container h-100">
    <div class="row h-20">
        <div class="col-8">
            Destination : {{route.destination}}
        </div>
        <div class="col-4">
            <span>
                Estimated Arrival:
            </span>
            <span>
                {{route.arrivalTime}}
            </span>
        </div>
    </div>
    <div class="row h-80">
        <div id="TravelMap" class="col-6 border border-dark">
        </div>
        <div class="col-6 border border-dark">
            <div class="row">
                <div class="col-4">Next Destination:</div>
                <div class="col-8">{{route.stop}}</div>
            </div>
            <div class="row m-2">
                <div class="col-2"><button class="btn btn-primary">+</button></div>
                <div class="col-6">Add A Stop</div>
                <div class="col-4"><input type="number" placeholder="10"></div>
            </div>
            {{#each pitstop}}
            <div class="row m-2 border border-primary">
                <div class="col-2"><span>Stop #</span><span>{{@index}}</span> </div>
                <div class="col-8 row border border-primary"><span>Location: </span><span>{{this.address}}</span></div>
                <div class="col-2"><span>Duration: </span><span>{{this.duration}}</span></div>
            </div>
            {{/each}}
            <div class="row m-2">
                <button class="btn btn-primary col-12">View Event Logs</button>
            </div>
            <div class="row m-2">
                <button class="btn btn-primary col-12">Adjust Utility Logs</button>
            </div>
            <div class="row m-2">
                <button class="btn btn-primary col-12">Adjust Preference Settings</button>
            </div>
            <div class="row m-2">
                <button class="btn btn-primary col-12" id="cancelBtn">Cancel Trip</button>
            </div>
        </div>

    </div>
</div>
<link rel="stylesheet" href="https://js.arcgis.com/4.13/esri/themes/light/main.css" />
<script src="https://js.arcgis.com/4.13/"></script>
<script src="/static/MapUtils.js"></script>
<script src="/static/routePlotting.js"></script>
<script src="/static/tracking.js"></script>
<script>
    EnableTrackingMap("TravelMap");
</script>

<script>
    document.getElementById("cancelBtn").addEventListener("click", function(event) {
        //method 1: use get request
            //var url = "/planner?dest={{route.dest}}&arrive={{route.arrivalTime}}&return={{route.return}}&ride={{route.ride}}&notify={{route.notify}}"
            //window.location.replace(url); //replace current page with url

        //methos 2: just go back
        window.history.back();
    });
</script>